<div class="appointment-select modal">
  <div class="modal-header orange">
    <button ng-click="my.back()"
            class="back-button modal-action btn quark bold white orange-text">
      กลับไปแก้ไข
    </button>

    <h4 class="title" ng-bind="my.title"></h4>

    <button
      class="modal-close close-button btn-flat">
      <i class="fa fa-close"></i>
    </button>

    <button ng-show="!my.appointmentCreated"
            ng-click="my.submitAppointment()"
            ng-disabled="my.submitting || !my.selectingCard"
            class="next-button modal-action btn quark bold white orange-text">
      <span ng-if="!my.submitting">ยืนยันการจอง</span>
      <span ng-if="my.submitting">รอซักครู่</span>
    </button>

    <button
      ng-show="my.appointmentCreated"
      ng-click="my.nextStep()"
      class="next-button modal-action btn quark bold white orange-text">
      <span>จองเรียบร้อย ! กลับ..</span>
    </button>

    <div style="clear: both;"></div>

  </div>

  <div class="modal-content">
    <div class="appointment-card-wrapper">
      <appointment-select-card
        ng-repeat="appointment in my.possibleAppointments | orderBy:'datetime'"
        datetime="appointment.datetime"
        doctor="appointment.doctor"
        disabled="my.submitting"
        on-select="my.select(my.appointmentSelectCards[$index])"
        on-deselect="my.deselect()"
        name="my.appointmentSelectCards[$index]"></appointment-select-card>
    </div>
  </div>
</div>
